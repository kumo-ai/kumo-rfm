# Outputs Directory

Consolidated location for all generated files from the FRED data analysis pipeline.

## Visualizations (`visualizations/`)

All charts and graphs generated by the analysis scripts.

### Statistical Visualizations
- **category_distribution_*.png** (231KB) - Bar charts showing series count by category
- **frequency_analysis_*.png** (241KB) - Pie/bar charts of data frequency distribution
- **popularity_distribution_*.png** (524KB) - Histograms and cumulative distributions of series popularity
- **rfm_segmentation_*.png** (450KB) - RFM (Recency-Frequency-Monetary) style segmentation analysis

### Network Visualizations
- **relationship_graph_*.png** (7.5MB) - **NEW!** NetworkX graph showing series relationships
  - 7,607 relationships across 4 types
  - Color-coded by degree centrality
  - Top 150 most connected nodes displayed
  
- **category_network_*.png** (4.5MB) - Network graph grouped by category
- **series_network_*.png** (353KB) - Series-level network visualization
- **community_detection_*.png** (468KB) - Graph community detection analysis
- **centrality_analysis_*.png** (975KB) - Node centrality metrics visualization

### Data Exports
- **rfm_segments_*.csv** (1.4MB) - RFM segment assignments for all series
- **centrality_data_*.csv** (482B) - Graph centrality metrics
- **communities_*.csv** (136B) - Community detection results

---

## Data (`data/`)

Raw and processed data files (not in this directory, but referenced for completeness):
- `fred_series_metadata.parquet` - Source FRED series metadata
- `monolith/` - Prepared features for ByteDance Monolith algorithm

---

## Database Tables

The following tables are created in PostgreSQL (not files, but queryable via CLI):

### Monolith Feed Tables
- **`monolith_series_relationships`** (7,607 rows) - Graph edges for recommendation system
- **`monolith_series_features`** (58,595 rows) - Node features with centrality metrics

### Kumo RFM Tables
- **`kumo_rfm_use_cases`** - Tracked use cases
- **`kumo_rfm_queries`** - Query execution logs
- **`kumo_rfm_predictions`** - Model predictions
- **`kumo_rfm_relationships`** - Discovered relationships
- **`kumo_rfm_performance`** - Model performance metrics

---

## How Files Are Generated

| File Type | Generated By | Command |
|-----------|--------------|---------|
| Statistical charts | `05_kumo_rfm_integration.py` | `python 05_kumo_rfm_integration.py --visualize-graph` |
| Network graphs | `05_kumo_rfm_integration.py` | `python 05_kumo_rfm_integration.py --visualize-graph` |
| RFM segments | `05_kumo_rfm_integration.py` | Auto-generated during visualization |
| Database tables | `05_kumo_rfm_integration.py` | `python 05_kumo_rfm_integration.py --save-to-db` |

---

## Consolidated From

Previously scattered across:
- Removed: `my_charts/` (had duplicates)
- Removed: `charts/` (only had relationship graph)
- Removed: `visualizations/` (merged into this directory)

Now everything is in: **`outputs/visualizations/`** (final location)

---

## File Organization

**Date-based structure** - Each run creates a new dated subdirectory:

```
outputs/
├── README.md                    # This file
└── visualizations/              # All generated charts and graphs
    ├── 2025-10-29/              # Oct 29, 2025 visualizations
    │   ├── relationship_graph_20251029_172820.png  # 7.5MB
    │   ├── category_network_20251029_140324.png    # 4.5MB
    │   ├── category_distribution_20251029_135547.png
    │   ├── frequency_analysis_20251029_135547.png
    │   ├── popularity_distribution_20251029_135547.png
    │   ├── rfm_segmentation_20251029_135547.png
    │   ├── series_network_20251029_140327.png
    │   ├── community_detection_20251029_140328.png
    │   ├── centrality_analysis_20251029_140329.png
    │   ├── rfm_segments_20251029_135547.csv
    │   ├── centrality_data_20251029_140329.csv
    │   └── communities_20251029_140328.csv
    ├── 2025-10-30/              # Next day's visualizations
    └── 2025-10-31/              # And so on...
```

**Benefits:**
- Easy to find visualizations by date
- Compare graphs across different days
- Track evolution of the network over time
- No filename conflicts between runs

---

## Next Steps

1. **View visualizations**: Open PNG files in any image viewer
2. **Query database**: Use `python 051_kumo_rfm_cli.py` to explore monolith tables
3. **Generate new charts**: Run scripts with `--output-dir outputs/visualizations`
4. **Update graphs**: Re-run `--visualize-graph` to refresh with latest data

---

## Quick Stats

- **Total visualizations**: 9 PNG files
- **Total data exports**: 3 CSV files  
- **Total size**: ~17MB
- **Graph nodes**: 58,595 series
- **Graph edges**: 7,607 relationships
- **Database rows**: 66,202 total (series + relationships)
